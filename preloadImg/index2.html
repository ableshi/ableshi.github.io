<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>QQ表情无序加载</title>
  <style>
    body,p,ul,li{
      margin: 0;
      padding: 0;
    }
    body{
      background-color: #eee;
    }
    .box{
      margin: 150px 0 0 200px;
    }
    #face-btn{
      display: block;
      color: #333;
      text-decoration: none;
      outline: none;
    }
    .panel{
      display: none;
      width: 390px;
      padding: 2px;
      border: 1px solid #ccc;
      background-color: #fff;
    }
    .loading{
      text-align: center;
    }
    .list{
      list-style: none;
    }
    .list li{
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 1px solid #fff;
      margin-bottom: 5px;
      cursor: pointer;
    }
    .list li:hover{
      border-color: #06c;
    }
  </style>
</head>
<body>
  <div class="box">
    <a href="javascript:;" id='face-btn'>表情</a>
    <div class="panel">
      <p class='loading'>表情加载中，请稍等。。。</p>

      <!-- <ul class="list">
        <li><img src="images/QQ/1.gif" alt="face1"></li>
        <li><img src="images/QQ/2.gif" alt="face2"></li>
        <li><img src="images/QQ/3.gif" alt="face3"></li>
        <li><img src="images/QQ/4.gif" alt="face4"></li>
        <li><img src="images/QQ/5.gif" alt="face5"></li>
        <li><img src="images/QQ/6.gif" alt="face6"></li>
        <li><img src="images/QQ/7.gif" alt="face7"></li>
        <li><img src="images/QQ/8.gif" alt="face8"></li>
        <li><img src="images/QQ/9.gif" alt="face9"></li>
        <li><img src="images/QQ/10.gif" alt="face10"></li>
        <li><img src="images/QQ/11.gif" alt="face11"></li>
        <li><img src="images/QQ/12.gif" alt="face12"></li>
        <li><img src="images/QQ/13.gif" alt="face13"></li>
        <li><img src="images/QQ/14.gif" alt="face14"></li>
        <li><img src="images/QQ/15.gif" alt="face15"></li>
        <li><img src="images/QQ/16.gif" alt="face16"></li>
        <li><img src="images/QQ/17.gif" alt="face17"></li>
        <li><img src="images/QQ/18.gif" alt="face18"></li>
        <li><img src="images/QQ/19.gif" alt="face19"></li>
        <li><img src="images/QQ/20.gif" alt="face20"></li>
        <li><img src="images/QQ/21.gif" alt="face21"></li>
        <li><img src="images/QQ/22.gif" alt="face22"></li>
        <li><img src="images/QQ/23.gif" alt="face23"></li>
        <li><img src="images/QQ/24.gif" alt="face24"></li>
        <li><img src="images/QQ/25.gif" alt="face25"></li>
        <li><img src="images/QQ/26.gif" alt="face26"></li>
        <li><img src="images/QQ/27.gif" alt="face27"></li>
        <li><img src="images/QQ/28.gif" alt="face28"></li>
        <li><img src="images/QQ/29.gif" alt="face29"></li>
        <li><img src="images/QQ/30.gif" alt="face30"></li>
        <li><img src="images/QQ/31.gif" alt="face31"></li>
        <li><img src="images/QQ/32.gif" alt="face32"></li>
        <li><img src="images/QQ/33.gif" alt="face33"></li>
        <li><img src="images/QQ/34.gif" alt="face34"></li>
        <li><img src="images/QQ/35.gif" alt="face35"></li>
        <li><img src="images/QQ/36.gif" alt="face36"></li>
        <li><img src="images/QQ/37.gif" alt="face37"></li>
        <li><img src="images/QQ/38.gif" alt="face38"></li>
        <li><img src="images/QQ/39.gif" alt="face39"></li>
        <li><img src="images/QQ/40.gif" alt="face40"></li>
        <li><img src="images/QQ/41.gif" alt="face41"></li>
        <li><img src="images/QQ/42.gif" alt="face42"></li>
        <li><img src="images/QQ/43.gif" alt="face43"></li>
        <li><img src="images/QQ/44.gif" alt="face44"></li>
        <li><img src="images/QQ/45.gif" alt="face45"></li>
        <li><img src="images/QQ/46.gif" alt="face46"></li>
        <li><img src="images/QQ/47.gif" alt="face47"></li>
        <li><img src="images/QQ/48.gif" alt="face48"></li>
        <li><img src="images/QQ/49.gif" alt="face49"></li>
        <li><img src="images/QQ/50.gif" alt="face50"></li>
        <li><img src="images/QQ/51.gif" alt="face51"></li>
        <li><img src="images/QQ/52.gif" alt="face52"></li>
        <li><img src="images/QQ/53.gif" alt="face53"></li>
        <li><img src="images/QQ/54.gif" alt="face54"></li>
        <li><img src="images/QQ/55.gif" alt="face55"></li>
        <li><img src="images/QQ/56.gif" alt="face56"></li>
        <li><img src="images/QQ/57.gif" alt="face57"></li>
        <li><img src="images/QQ/58.gif" alt="face58"></li>
        <li><img src="images/QQ/59.gif" alt="face59"></li>
        <li><img src="images/QQ/60.gif" alt="face60"></li>
        <li><img src="images/QQ/61.gif" alt="face61"></li>
        <li><img src="images/QQ/62.gif" alt="face62"></li>
        <li><img src="images/QQ/63.gif" alt="face63"></li>
        <li><img src="images/QQ/64.gif" alt="face64"></li>
        <li><img src="images/QQ/65.gif" alt="face65"></li>
        <li><img src="images/QQ/66.gif" alt="face66"></li>
        <li><img src="images/QQ/67.gif" alt="face67"></li>
        <li><img src="images/QQ/68.gif" alt="face68"></li>
        <li><img src="images/QQ/69.gif" alt="face69"></li>
        <li><img src="images/QQ/70.gif" alt="face70"></li>
        <li><img src="images/QQ/71.gif" alt="face71"></li>
        <li><img src="images/QQ/72.gif" alt="face72"></li>
        <li><img src="images/QQ/73.gif" alt="face73"></li>
        <li><img src="images/QQ/74.gif" alt="face74"></li>
        <li><img src="images/QQ/75.gif" alt="face75"></li>
        <li><img src="images/QQ/76.gif" alt="face76"></li>
        <li><img src="images/QQ/77.gif" alt="face77"></li>
        <li><img src="images/QQ/78.gif" alt="face78"></li>
        <li><img src="images/QQ/79.gif" alt="face79"></li>
        <li><img src="images/QQ/80.gif" alt="face80"></li>
        <li><img src="images/QQ/81.gif" alt="face81"></li>
        <li><img src="images/QQ/82.gif" alt="face82"></li>
        <li><img src="images/QQ/83.gif" alt="face83"></li>
        <li><img src="images/QQ/84.gif" alt="face84"></li>
        <li><img src="images/QQ/85.gif" alt="face85"></li>
        <li><img src="images/QQ/86.gif" alt="face86"></li>
        <li><img src="images/QQ/87.gif" alt="face87"></li>
        <li><img src="images/QQ/88.gif" alt="face88"></li>
        <li><img src="images/QQ/89.gif" alt="face89"></li>
        <li><img src="images/QQ/90.gif" alt="face90"></li>
        <li><img src="images/QQ/91.gif" alt="face91"></li>
        <li><img src="images/QQ/92.gif" alt="face92"></li>
        <li><img src="images/QQ/93.gif" alt="face93"></li>
        <li><img src="images/QQ/94.gif" alt="face94"></li>
        <li><img src="images/QQ/95.gif" alt="face95"></li>
        <li><img src="images/QQ/96.gif" alt="face96"></li>
        <li><img src="images/QQ/97.gif" alt="face97"></li>
        <li><img src="images/QQ/98.gif" alt="face98"></li>
        <li><img src="images/QQ/99.gif" alt="face99"></li>
        <li><img src="images/QQ/100.gif" alt="face100"></li>
        <li><img src="images/QQ/101.gif" alt="face101"></li>
        <li><img src="images/QQ/102.gif" alt="face102"></li>
        <li><img src="images/QQ/103.gif" alt="face103"></li>
        <li><img src="images/QQ/104.gif" alt="face104"></li>
        <li><img src="images/QQ/105.gif" alt="face105"></li>
        <li><img src="images/QQ/106.gif" alt="face106"></li>
        <li><img src="images/QQ/107.gif" alt="face107"></li>
        <li><img src="images/QQ/108.gif" alt="face108"></li>
        <li><img src="images/QQ/109.gif" alt="face109"></li>
        <li><img src="images/QQ/110.gif" alt="face110"></li>
        <li><img src="images/QQ/111.gif" alt="face111"></li>
        <li><img src="images/QQ/112.gif" alt="face112"></li>
        <li><img src="images/QQ/113.gif" alt="face113"></li>
        <li><img src="images/QQ/114.gif" alt="face114"></li>
        <li><img src="images/QQ/115.gif" alt="face115"></li>
        <li><img src="images/QQ/116.gif" alt="face116"></li>
        <li><img src="images/QQ/117.gif" alt="face117"></li>
        <li><img src="images/QQ/118.gif" alt="face118"></li>
        <li><img src="images/QQ/119.gif" alt="face119"></li>
        <li><img src="images/QQ/120.gif" alt="face120"></li>
        <li><img src="images/QQ/121.gif" alt="face121"></li>
        <li><img src="images/QQ/122.gif" alt="face122"></li>
        <li><img src="images/QQ/123.gif" alt="face123"></li>
        <li><img src="images/QQ/124.gif" alt="face124"></li>
        <li><img src="images/QQ/125.gif" alt="face125"></li>
        <li><img src="images/QQ/126.gif" alt="face126"></li>
        <li><img src="images/QQ/127.gif" alt="face127"></li>
        <li><img src="images/QQ/128.gif" alt="face128"></li>
        <li><img src="images/QQ/129.gif" alt="face129"></li>
        <li><img src="images/QQ/130.gif" alt="face130"></li>
        <li><img src="images/QQ/131.gif" alt="face131"></li>
        <li><img src="images/QQ/132.gif" alt="face132"></li>
      </ul> -->
    </div>
  </div>

  <script src='./js/jquery-3.2.1.min.js'></script>
  <script src='./js/preload.js'></script>
  <script>
    var $btn = $('#face-btn');
    var $panel = $('.panel');

    var imgs = [];

    for (var i = 0; i < 132; i++) {
      imgs[i] = 'images/QQ/'+(i+1)+'.gif'
    }
    var len = imgs.length;

    $btn.on('click', function (e) {
      e.stopPropagation()
      $panel.show()

      $.preload(imgs, {
        all: function () {
          var html = '';
          html += '<ul class="list">';
          for (var i = 0; i < len; i++) {
            html += '<li><img src="' + imgs[i] + '" alt="face1"></li>'
          }

          html += '</ul>';

          setTimeout(function () {
            $panel.html(html);
          }, 1000)
        }
      })
    })

    $(document).on('click', function () {
      $panel.hide()
    })
  </script>
</body>
</html>
